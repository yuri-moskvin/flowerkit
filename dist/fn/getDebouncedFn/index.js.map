{"version":3,"file":"index.js","sources":["../../../src/fn/getDebouncedFn/index.js"],"sourcesContent":["import ow from \"ow\";\r\n\r\n/**\r\n * Gets a function that is executed no more than once in a specified period of time\r\n * @param cb{Function} - source function\r\n * @param wait{Number=} - interval of execution\r\n * @param isImmediate{Boolean=} - immediate execution\r\n * @return {function}\r\n * @example\r\n * // How to execute function no more than once per second?\r\n * const fn = getDebouncedFn(alert, 1000);\r\n *\r\n * fn(1); // calls immediately\r\n * fn(2); // ignored\r\n *\r\n * setTimeout(() => fn(3), 100); // ignored\r\n * setTimeout(() => fn(4), 1100); // calls\r\n * setTimeout(() => fn(5), 1500); // ignored\r\n */\r\nconst getDebouncedFn = (cb, wait = 250, isImmediate = false) => {\r\n\r\n  ow(cb, ow.function);\r\n  ow(wait, ow.optional.number.not.infinite);\r\n  ow(isImmediate, ow.optional.boolean);\r\n\r\n  let timeout;\r\n  return function executedFunction() {\r\n    const context = this;\r\n    const args = arguments;\r\n    const later = function () {\r\n      timeout = null;\r\n      if (!isImmediate) {\r\n        cb.apply(context, args);\r\n      }\r\n    };\r\n    const callNow = isImmediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) {\r\n      cb.apply(context, args);\r\n    }\r\n  };\r\n};\r\n\r\nexport {\r\n  getDebouncedFn\r\n};\r\n"],"names":["getDebouncedFn","cb","wait","isImmediate","ow","function","optional","number","not","infinite","boolean","timeout","executedFunction","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout"],"mappings":";;;;;;;;;;;;;;;;;GAmBA,MAAMA,eAAiBA,CAACC,GAAIC,KAAO,IAAKC,YAAc,SAEpDC,GAAGH,GAAIG,GAAGC,UACVD,GAAGF,KAAME,GAAGE,SAASC,OAAOC,IAAIC,UAChCL,GAAGD,YAAaC,GAAGE,SAASI,SAE5B,IAAIC,QACJ,OAAO,SAASC,mBACd,MAAMC,QAAUC,KAChB,MAAMC,KAAOC,UACb,MAAMC,MAAQ,WACZN,QAAU,KACV,IAAKR,YACHF,GAAGiB,MAAML,QAASE,OAGtB,MAAMI,QAAUhB,cAAgBQ,QAChCS,aAAaT,SACbA,QAAUU,WAAWJ,MAAOf,MAC5B,GAAIiB,QACFlB,GAAGiB,MAAML,QAASE,MAErB"}