{"version":3,"file":"index.js","sources":["../../../src/evt/onWindowResize/index.js"],"sourcesContent":["import ow from \"ow\";\r\nimport { getWindow } from \"ssr-window\";\r\nimport { getDebouncedFn } from \"../../fn/getDebouncedFn/index.js\";\r\n\r\n/**\r\n * Runs callback when page has been resized\r\n * @param cb{Function} - callback function\r\n * @param delay{Number=} - callback execution delay\r\n * @param isAutoInit{Boolean=} - attaches event immediately\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/resize_event\r\n * @return {{ handler: Function, addListener: Function, removeListener: Function }}\r\n * @example\r\n * // How to detect when page has been resized and run callback once when resize ends?\r\n * const callback = () => console.log(\"Page loaded\");\r\n * onWindowLoad(callback);\r\n *\r\n * // How to remove \"resize\" callback event listener?\r\n * const { removeListener, addListener } = onWindowResize(callback, 300, false);\r\n * addListener(); // adds listener manually\r\n * removeListener(); // removes listener manually\r\n * */\r\nconst onWindowResize = (cb, delay = 300, isAutoInit = true) => {\r\n\r\n  ow(cb, ow.function);\r\n  ow(delay, ow.optional.number);\r\n  ow(isAutoInit, ow.optional.boolean);\r\n\r\n  const handler = () => {\r\n    if (delay) {\r\n      const fn = getDebouncedFn(cb);\r\n      fn();\r\n    } else {\r\n      cb();\r\n    }\r\n  };\r\n\r\n  const addListener = () => {\r\n    window.addEventListener(\"resize\", handler);\r\n  };\r\n\r\n  const removeListener = () => {\r\n    getWindow().removeEventListener(\"resize\", handler);\r\n  };\r\n\r\n  if (isAutoInit) {\r\n    addListener();\r\n  }\r\n\r\n  return {\r\n    handler,\r\n    addListener,\r\n    removeListener\r\n  };\r\n};\r\n\r\nexport {\r\n  onWindowResize\r\n};\r\n"],"names":["onWindowResize","cb","delay","isAutoInit","ow","function","optional","number","boolean","handler","fn","getDebouncedFn","addListener","window","addEventListener","removeListener","getWindow","removeEventListener"],"mappings":";;;;;;;;;;;;;;;;;KAqBA,MAAMA,eAAiBA,CAACC,GAAIC,MAAQ,IAAKC,WAAa,QAEpDC,GAAGH,GAAIG,GAAGC,UACVD,GAAGF,MAAOE,GAAGE,SAASC,QACtBH,GAAGD,WAAYC,GAAGE,SAASE,SAE3B,MAAMC,QAAUA,KACd,GAAIP,MAAO,CACT,MAAMQ,GAAKC,eAAeV,IAC1BS,IACF,MACET,IACF,EAGF,MAAMW,YAAcA,KAClBC,OAAOC,iBAAiB,SAAUL,QAAQ,EAG5C,MAAMM,eAAiBA,KACrBC,YAAYC,oBAAoB,SAAUR,QAAQ,EAGpD,GAAIN,WACFS,cAGF,MAAO,CACLH,gBACAG,wBACAG,8BACD"}