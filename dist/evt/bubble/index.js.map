{"version":3,"file":"index.js","sources":["../../../src/evt/bubble/index.js"],"sourcesContent":["import ow from \"ow\";\r\nimport { getDocument, getWindow } from \"ssr-window\";\r\nimport { isNode } from \"../../dom/isNode/index.js\";\r\n\r\n/**\r\n * Creates a custom event that bubbles up through the DOM\r\n * @param el{HTMLElement|Node|Element|Document|Window} - DOM element\r\n * @param name{String} - name of CustomEvent\r\n * @param detail{*=} - detail field of CustomEvent\r\n * @param params{Object=} - other params of CustomEvent\r\n * @see https://developer.mozilla.org/en-US/docs/Web/Events/Creating_and_triggering_events\r\n * @example\r\n * // How to create custom event with user data and bubble it on document element?\r\n * bubble(document, \"myEvent\", { myData: \"test\" })\r\n *\r\n * // How to create custom event and bubble it on specific node?\r\n * const myEl = document.querySelector(\"#myElement\");\r\n * if(myEl) {\r\n *   bubble(myEl, \"myEvent\")\r\n * }\r\n *\r\n * // How to listen custom events? Use your listener before calling of bubble function.\r\n * document.addEventListener(\"myEvent\", (e) => console.log(e));\r\n */\r\nconst bubble = (el = getDocument(), name, detail, params = {}) => {\r\n\r\n  ow(el, ow.object.validate(value => ({\r\n    validator: isNode(value) || el === getWindow(),\r\n    message: () => `The object must be node or window`\r\n  })));\r\n\r\n  ow(name, ow.string.not.empty);\r\n  ow(params, ow.optional.object);\r\n\r\n  const eventParams = {\r\n    cancelable: true,\r\n    bubbles: true,\r\n    detail,\r\n    ...params,\r\n  };\r\n\r\n  if (typeof dispatchEvent === \"function\" && typeof CustomEvent === \"function\") {\r\n    const event = new CustomEvent(name, eventParams);\r\n    el?.dispatchEvent(event);\r\n  }\r\n\r\n};\r\n\r\nexport {\r\n  bubble\r\n};\r\n"],"names":["bubble","el","getDocument","name","detail","params","ow","object","validate","value","validator","isNode","getWindow","message","string","not","empty","optional","eventParams","cancelable","bubbles","dispatchEvent","CustomEvent","event"],"mappings":";;;;;;;;;;;;;;;;;;;;GAwBA,MAAMA,OAASA,CAACC,GAAKC,cAAeC,KAAMC,OAAQC,OAAS,MAEzDC,GAAGL,GAAIK,GAAGC,OAAOC,UAASC,QAAU,CAClCC,UAAWC,OAAOF,QAAUR,KAAOW,YACnCC,QAASA,IAAM,yCAGjBP,GAAGH,KAAMG,GAAGQ,OAAOC,IAAIC,OACvBV,GAAGD,OAAQC,GAAGW,SAASV,QAEvB,MAAMW,YAAc,CAClBC,WAAY,KACZC,QAAS,KACThB,iBACGC,QAGL,UAAWgB,gBAAkB,mBAAqBC,cAAgB,WAAY,CAC5E,MAAMC,MAAQ,IAAID,YAAYnB,KAAMe,aACpCjB,IAAIoB,cAAcE,MACpB"}