{"version":3,"file":"index.js","sources":["../../../../src/user/cookie/setCookie/index.js"],"sourcesContent":["import ow from \"ow\";\r\nimport { getDocument } from \"ssr-window\";\r\n\r\n/**\r\n * Sets the Cookie value\r\n * @param name{String} - name of Cookie\r\n * @param value{String} - value of Cookie\r\n * @param options{Object=} - options of Cookie\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie\r\n * @example\r\n * // How to set Cookie for one day or other time?\r\n * setCookie(\"myCookie\", \"value\", { expires: 86400 }) // expires in sec\r\n */\r\nconst setCookie = (name, value, options = {}) => {\r\n\r\n  ow(name, ow.string);\r\n  ow(value, ow.string);\r\n  ow(options, ow.object);\r\n\r\n  let expires = options.expires;\r\n  if (typeof expires === \"number\" && !!expires) {\r\n    const d = new Date();\r\n    d.setTime(d.getTime() + expires * 1000);\r\n    expires = options.expires = d;\r\n  }\r\n  if (expires && expires.toUTCString) {\r\n    options.expires = expires.toUTCString();\r\n  }\r\n  value = encodeURIComponent(value);\r\n  let updatedCookie = name + \"=\" + value;\r\n  for (let propName in options) {\r\n    updatedCookie += \"; \" + propName;\r\n    let propValue = options[propName];\r\n    if (propValue !== true) {\r\n      updatedCookie += \"=\" + propValue;\r\n    }\r\n  }\r\n  getDocument().cookie = updatedCookie;\r\n};\r\n\r\nexport {\r\n  setCookie\r\n};\r\n"],"names":["setCookie","name","value","options","ow","string","object","expires","d","Date","setTime","getTime","toUTCString","encodeURIComponent","updatedCookie","propName","propValue","getDocument","cookie"],"mappings":";;;;;;;;;;GAaMA,MAAAA,UAAYA,CAACC,KAAMC,MAAOC,QAAU,CAAA,KAExCC,GAAGH,KAAMG,GAAGC,QACZD,GAAGF,MAAOE,GAAGC,QACbD,GAAGD,QAASC,GAAGE,QAEf,IAAIC,QAAUJ,QAAQI,QACtB,UAAWA,UAAY,YAAcA,QAAS,CAC5C,MAAMC,EAAI,IAAIC,KACdD,EAAEE,QAAQF,EAAEG,UAAYJ,QAAU,MAClCA,QAAUJ,QAAQI,QAAUC,CAC9B,CACA,GAAID,SAAWA,QAAQK,YACrBT,QAAQI,QAAUA,QAAQK,cAE5BV,MAAQW,mBAAmBX,OAC3B,IAAIY,cAAgBb,KAAO,IAAMC,MACjC,IAAK,IAAIa,YAAYZ,QAAS,CAC5BW,eAAiB,KAAOC,SACxB,IAAIC,UAAYb,QAAQY,UACxB,GAAIC,YAAc,KAChBF,eAAiB,IAAME,SAE3B,CACAC,cAAcC,OAASJ,aAAa"}