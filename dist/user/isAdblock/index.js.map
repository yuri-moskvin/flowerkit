{"version":3,"file":"index.js","sources":["../../../src/user/isAdblock/index.js"],"sourcesContent":["import { getDocument, getWindow } from \"ssr-window\";\r\nimport { wait } from \"../../fn/wait/index.js\";\r\nimport { getId } from \"../../str/getId/index.js\";\r\n\r\n/**\r\n * Checks if the user has adblock\r\n * @return {boolean}\r\n * @example\r\n * // How to detect if user has adblock in browser?\r\n * const isAdblock = isAdblock();\r\n * console.log(isAdblock); // => false\r\n */\r\nconst isAdblock = () => {\r\n\r\n  const id = `adv_${getId()}`;\r\n\r\n  const css = `position: fixed; bottom: -100vh; left: -100vh; overflow: hidden; pointer-events: none;`;\r\n\r\n  if (!getDocument().getElementById(id)) {\r\n    getDocument().body.insertAdjacentHTML(\"beforeend\", `\r\n    <div aria-hidden=\"true\" style=\"${css}\" id=\"${id}\">\r\n      <div style=\"width: 100px; height: 100px;\" class=\"ad_box ad-richmedia-overlay ads ad adsbox doubleclick ad-placement carbon-ads\"></div>\r\n    </div>`);\r\n  }\r\n\r\n  const block = getDocument().getElementById(id);\r\n  const ad = block.children[0];\r\n\r\n  getWindow().getComputedStyle(block).getPropertyValue(\"visibility\");\r\n\r\n  wait(2000).then(() => {\r\n    block?.remove();\r\n  });\r\n\r\n  return getWindow().getComputedStyle(ad).getPropertyValue(\"display\") === \"none\";\r\n};\r\n\r\nexport {\r\n  isAdblock\r\n};\r\n"],"names":["isAdblock","id","getId","css","getDocument","getElementById","body","insertAdjacentHTML","block","ad","children","getWindow","getComputedStyle","getPropertyValue","wait","then","remove"],"mappings":";;;;;;;;GAYMA,MAAAA,UAAYA,KAEhB,MAAMC,GAAK,OAAOC,UAElB,MAAMC,IAAM,yFAEZ,IAAKC,cAAcC,eAAeJ,IAChCG,cAAcE,KAAKC,mBAAmB,YAAa,wCAClBJ,YAAYF,kKAK/C,MAAMO,MAAQJ,cAAcC,eAAeJ,IAC3C,MAAMQ,GAAKD,MAAME,SAAS,GAE1BC,YAAYC,iBAAiBJ,OAAOK,iBAAiB,cAErDC,KAAK,MAAMC,MAAK,KACdP,OAAOQ,QAAQ,IAGjB,OAAOL,YAAYC,iBAAiBH,IAAII,iBAAiB,aAAe,MAAM"}