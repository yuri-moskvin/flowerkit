{"version":3,"file":"index.js","sources":["../../../src/dom/getElWrapper/index.js"],"sourcesContent":["import ow from \"ow\";\r\nimport { getDocument } from \"ssr-window\";\r\nimport { isNode } from \"../isNode/index.js\";\r\n\r\n/**\r\n * Gets a wrapper for specific element\r\n * @param el{HTMLElement|Node|Element|Document} - DOM element\r\n * @param str{String} - string of wrapper HTML layout (supports nested blocks)\r\n * @return {ChildNode}\r\n * @example\r\n * // How to wrap content to the few nested `div` blocks?\r\n * // <div id=\"block\">My Element</div>\r\n * const wrapperLayout = `\r\n *  <div class=\"wrapper\">\r\n *    <div class=\"wrapper__inner\"></div>\r\n *  </div>\r\n * `;\r\n * const el = document.getElementById(\"block\");\r\n * const wrapped = getElWrapper(el, wrapperLayout);\r\n * console.log(wrapped.outerHTML); // => `<div class=\"wrapper\"><div class=\"wrapper__inner\"><div id=\"block\">My Element</div></div></div>`\r\n */\r\nconst getElWrapper = (el, str) => {\r\n\r\n  ow(el, ow.object.validate(value => ({\r\n    validator: isNode(value),\r\n    message: `The object must be node`\r\n  })));\r\n\r\n  ow(str, ow.string.not.empty);\r\n\r\n  const temp = getDocument().createElement(\"div\");\r\n  const parent = el.parentNode;\r\n  const insertWhere = el.previousSibling;\r\n  let target;\r\n  temp.innerHTML = str;\r\n  target = temp.firstChild;\r\n  while (target.firstChild) {\r\n    target = target.firstChild;\r\n  }\r\n  target.appendChild(el);\r\n  parent.insertBefore(temp.firstChild, (insertWhere ? insertWhere.nextSibling : parent.firstChild));\r\n  return target;\r\n};\r\n\r\nexport {\r\n  getElWrapper\r\n};\r\n"],"names":["getElWrapper","el","str","ow","object","validate","value","validator","isNode","message","string","not","empty","temp","getDocument","createElement","parent","parentNode","insertWhere","previousSibling","target","innerHTML","firstChild","appendChild","insertBefore","nextSibling"],"mappings":";;;;;;;;;;;;;;;;;GAqBA,MAAMA,aAAeA,CAACC,GAAIC,OAExBC,GAAGF,GAAIE,GAAGC,OAAOC,UAASC,QAAU,CAClCC,UAAWC,OAAOF,OAClBG,QAAU,+BAGZN,GAAGD,IAAKC,GAAGO,OAAOC,IAAIC,OAEtB,MAAMC,KAAOC,cAAcC,cAAc,OACzC,MAAMC,OAASf,GAAGgB,WAClB,MAAMC,YAAcjB,GAAGkB,gBACvB,IAAIC,OACJP,KAAKQ,UAAYnB,IACjBkB,OAASP,KAAKS,WACd,MAAOF,OAAOE,WACZF,OAASA,OAAOE,WAElBF,OAAOG,YAAYtB,IACnBe,OAAOQ,aAAaX,KAAKS,WAAaJ,YAAcA,YAAYO,YAAcT,OAAOM,YACrF,OAAOF,MAAM"}